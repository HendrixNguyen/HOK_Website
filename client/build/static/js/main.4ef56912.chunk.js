(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{177:function(e,t){},179:function(e,t){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(10),r=a.n(c),i=a(62),s=a(11),l=a(54),o=a(63),j=a.n(o),m=a(110),u=a(218),d=a(220),b=a(221),x=a(228),h=a(230),O=a(226),f=a(223),p=a(229),g=a(224),v=a(225),w=a(222),y=a(108),C=a(219),S=a(4);function W(e){return Object(S.jsxs)(m.a,Object(l.a)(Object(l.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(S.jsx)(u.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var D=Object(y.a)();function N(){var e=Object(s.f)();return Object(S.jsx)(C.a,{theme:D,children:Object(S.jsxs)(d.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(b.a,{}),Object(S.jsxs)(x.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(S.jsx)(h.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(S.jsx)(w.a,{})}),Object(S.jsx)(m.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(S.jsxs)(x.a,{component:"form",onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget);j.a.post("http://localhost:3000/auth/login",{username:a.get("username"),password:a.get("password")}).then((function(t){console.log(t),e.push("/")})).catch((function(e){console.error(e)}))},noValidate:!0,sx:{mt:1},children:[Object(S.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(S.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(S.jsx)(f.a,{control:Object(S.jsx)(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(S.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(S.jsxs)(v.a,{container:!0,children:[Object(S.jsx)(v.a,{item:!0,xs:!0,children:Object(S.jsx)(u.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(S.jsx)(v.a,{item:!0,children:Object(S.jsx)(u.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(S.jsx)(W,{sx:{mt:8,mb:4}})]})})}function F(e){return Object(S.jsxs)(m.a,Object(l.a)(Object(l.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(S.jsx)(u.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var q=Object(y.a)();function E(){var e=Object(s.f)();return Object(S.jsx)(C.a,{theme:q,children:Object(S.jsxs)(d.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(b.a,{}),Object(S.jsxs)(x.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(S.jsx)(h.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(S.jsx)(w.a,{})}),Object(S.jsx)(m.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(S.jsxs)(x.a,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget),n={username:a.get("username"),email:a.get("email"),fullname:a.get("firstName")+" "+a.get("lastName"),password:a.get("password")};console.log(n),j.a.post("http://localhost:3000/register",{user:n}).then((function(t){console.log(t),e.push("/auth/login")}))},sx:{mt:3},children:[Object(S.jsxs)(v.a,{container:!0,spacing:2,children:[Object(S.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(O.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(S.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(O.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(O.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(O.a,{required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"email"})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(O.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})}),Object(S.jsx)(v.a,{item:!0,xs:12,children:Object(S.jsx)(f.a,{control:Object(S.jsx)(p.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(S.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(S.jsx)(v.a,{container:!0,justifyContent:"flex-end",children:Object(S.jsx)(v.a,{item:!0,children:Object(S.jsx)(u.a,{href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(S.jsx)(F,{sx:{mt:5}})]})})}var U=function(){return Object(S.jsx)(i.a,{children:Object(S.jsxs)(s.c,{children:[Object(S.jsx)(s.a,{exact:!0,path:"/login",children:Object(S.jsx)(N,{})}),Object(S.jsx)(s.a,{path:"/signup",children:Object(S.jsx)(E,{})})]})})},k=a(43),A=a(109),I=a(77),R=a.n(I),T=Object(n.createContext)(),V=Object(A.a)("ws://localhost:3001"),Y=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(k.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(!1),l=Object(k.a)(s,2),o=l[0],j=l[1],m=Object(n.useState)(),u=Object(k.a)(m,2),d=u[0],b=u[1],x=Object(n.useState)(""),h=Object(k.a)(x,2),O=h[0],f=h[1],p=Object(n.useState)({}),g=Object(k.a)(p,2),v=g[0],w=g[1],y=Object(n.useState)(""),C=Object(k.a)(y,2),W=C[0],D=C[1],N=Object(n.useRef)(),F=Object(n.useRef)(),q=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){b(e),N.current.srcObject=e})),V.on("me",(function(e){return D(e)})),V.on("callUser",(function(e){var t=e.from,a=e.name,n=e.signal;w({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);return Object(S.jsx)(T.Provider,{value:{call:v,callAccepted:r,myVideo:N,userVideo:F,stream:d,name:O,setName:f,callEnded:o,me:W,callUser:function(){var e=new R.a({initiator:!0,trickle:!1,stream:d});e.on("signal",(function(e){V.emit("callUser",{signalData:e,from:W,name:O})})),e.on("stream",(function(e){F.current.srcObject=e})),V.on("callAccepted",(function(t){i(!0),e.signal(t)})),q.current=e},leaveCall:function(){j(!0),q.current.destroy(),window.location.reload()},answerCall:function(){i(!0);var e=new R.a({initiator:!1,trickle:!1,stream:d});e.on("signal",(function(e){V.emit("answerCall",{signal:e,to:v.from})})),e.on("stream",(function(e){F.current.srcObject=e})),e.signal(v.signal),q.current=e}},children:t})};a(187);r.a.render(Object(S.jsx)(Y,{children:Object(S.jsx)(U,{})}),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.4ef56912.chunk.js.map